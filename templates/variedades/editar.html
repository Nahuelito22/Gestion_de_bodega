{% extends "layout.html" %}

{% block body %}
<div class="col-md-6 offset-md-3">
  <div class="card card-body bg-dark text-white mt-5">
    <h1 class="text-center">Editar Variedad</h1>

    <form 
      action="{{ url_for('variedadUva_bp.editar_variedad', id=variedad.id) }}" 
      method="POST" 
      enctype="multipart/form-data"
    >
      <div class="mb-3">
        <label for="nombre">Nombre Variedad:</label>
        <input
          type="text"
          name="nombre"
          value="{{ variedad.nombre }}"
          class="form-control bg-dark text-white rounded-0"
          required
        />
      </div>

      <div class="mb-3">
        <label for="origen">Origen:</label>
        <textarea
          name="origen"
          rows="3"
          class="form-control bg-dark text-white rounded-0"
          required
        >{{ variedad.origen }}</textarea>
      </div>

      <div class="mb-3">
        <label for="foto_ruta">Imagen (opcional):</label>
        <input
          type="file"
          name="foto_ruta"
          accept="image/*"
          class="form-control bg-dark text-white rounded-0"
        />
      </div>

      {% if variedad.foto_ruta %}
      <div class="mb-3">
        <label>Imagen actual:</label><br>
        <img 
          src="{{ url_for('static', filename='images/' + variedad.foto_ruta) }}" 
          alt="{{ variedad.nombre }}" 
          width="120" 
          class="rounded"
        >
      </div>
      {% endif %}

      <button type="submit" class="btn btn-primary w-100">Actualizar</button>
    </form>
  </div>
</div>
{% endblock %}
